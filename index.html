<html>


<style>

 @font-face {
  font-family: "Alte";
  src: url("AlteHaasGroteskRegular.ttf");
}

body{

  background:#aec5d4;
  margin:0px;
  font-family: "Alte";
  text-align: center;
  color:#2c2b47;
  overflow-y: scroll;


}



.center {

  min-width: 900px;
  width: 50%;
  position: static;
  //border: 3px solid green;
  display:block;




margin-left: auto;
    margin-right: auto;
    margin-top:auto;
    margin-bottom:auto;


}


#header img{
  max-width:80%;
   width:auto;
}


#packshot{
  margin-top:-40px;
}
#packshot img{
   //max-height:70%;
   //height:100%;
   height:70%;

  position: fixed;
  top: 50%;
  left: 50%;
  /* bring your own prefixes */
  transform: translate(-50%, -50%);

   
 // box-shadow: 0px 0px 10px 1px #2c2b47;
}

#packshot img:hover{
   // box-shadow: 0px 0px 10px 5px #2c2b47;
}

@media only screen and (min-width: 1000px) {
  #packshot img{
   max-width:50%;
   width:auto;
}
}


#above{  padding: 30px;
}

a{
  color:#2c2b47;
}

a:hover {
  color:white;
  text-decoration: underline;
}


h1{
  font-size:20px;
}
h4{
  font-size: 15px;
}
h5{
  font-size: 10px;
}

h2{
  font-size:25px;
  display:inline-block;
  position: relative;
  bottom: 30px;
}


#cte{


  font-size:50px;
  color:#fff;
  z-index: 999;

    position: fixed;
  top: 50%;
  left: 50%;
  /* bring your own prefixes */
  transform: translate(-50%, -50%);

}

#cte:hover{
  text-decoration: underline;
}


#base img{
   width:100px;
}

#base{
  position: fixed;
  left: 50%;
   transform: translate(-50%, 0%);
  bottom: 0px;
}

#base h2{
   transform: translate(0%, 0px);

}

#base h7{
  width:200px;
  position: absolute;
  min-width: 100px;
  display: inline-block;
  float:left;
}

#cover{
  width:100%;
  height:100%;
  position:fixed;
  top:0;
  left:0;
  background:#000519;
  z-index: 100;
  opacity: 0;
  pointer-events: none;
}

</style>
<body>

  <div id="cover"></div>

  <div class="center">
    <div id="above">
    <div id="header"><img src="polyText.png"/></h1></div>
    <div id="info"><h4>THE NEW ALBUM. AVAILABLE 7TH JUNE 2019 ON WARP RECORDS</h4></div>
  </div>
    <div id="packshot"><img src="polymer-cover-object-2.png" /></div>


    <div id="cte" onmouseover="onOver()" onmouseout="onOut()">CLICK TO ENTER (DESKTOP ONLY)</div>
    <div id="base">
      <a href="http://plaidmusic.co.uk/"><h2>PRE-ORDER</h2></a>
      <a href="http://plaidmusic.co.uk/"><img src="plaidlogo.png"/></a>
      <a href="http://plaidmusic.co.uk/"><h2>PRE-SAVE&nbsp;&nbsp;&nbsp;</h2></a>
    </div>
  </div>

</body>

<script type="text/javascript">
  

  var isMobile = isMobileDevice();

  if( isMobile ){
   // console.log("MOBILE BABY");
  }else{
   // console.log("No Mobile");
    x = document.getElementById("packshot");
    console.log( x);
    x.addEventListener('click', function(e) {
      window.location = "jelly"
    });


    x = document.getElementById("cte");
    console.log( x );
    x.innerHTML = "CLICK TO ENTER"
    x.addEventListener('click', function(e) {
      window.location = "jelly"
    });
  }


  function isMobileDevice() {
    return (typeof window.orientation !== "undefined") || (navigator.userAgent.indexOf('IEMobile') !== -1);
  };






var cte = document.getElementById("cte");
console.log( cte);



function hslToRgb(h, s, l) {
  var r, g, b;

  if (s == 0) {
    r = g = b = l; // achromatic
  } else {
    function hue2rgb(p, q, t) {
      if (t < 0) t += 1;
      if (t > 1) t -= 1;
      if (t < 1/6) return p + (q - p) * 6 * t;
      if (t < 1/2) return q;
      if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
      return p;
    }

    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
    var p = 2 * l - q;

    r = hue2rgb(p, q, h + 1/3);
    g = hue2rgb(p, q, h);
    b = hue2rgb(p, q, h - 1/3);
  }

  return [ r * 255, g * 255, b * 255 ];
}

var rgbToHex = function (rgb) { 
  var hex = Number(rgb).toString(16);
  if (hex.length < 2) {
       hex = "0" + hex;
  }
  return hex;
};

var fullColorHex = function(r,g,b) {   
  var red = rgbToHex(r);
  var green = rgbToHex(g);
  var blue = rgbToHex(b);
  return red+green+blue;
};



var startTime = 0;
var endTime = 0;
var hovered = false;

function onOver(){
   var d = new Date();
    var t = d.getTime();
    hovered = true;
    startTime = t;
}

function onOut(){
  hovered = false;

  var d = new Date();
  var t = d.getTime();
  endTime = t;
}

clamp = function(num,min, max) {
  return Math.min(Math.max(num, min), max);
};

var cover = document.getElementById("cover");
console.log( cover );

  function ani(){
    var d = new Date();
    var t = d.getTime();
    //console.log(t);

    var c = hslToRgb( Math.sin(t) , 1,.5);

  //  console.log( c );

  var pulse = Math.abs(Math.floor(255 * (Math.sin(t * .005)+1.5)/2.5));
    var fullC =  fullColorHex( pulse ,pulse , pulse );

    //console.log( fullC )

    if( !isMobile ){
    cte.style.color = fullC;//"rgba(255,255,255,"+pulse+")";
    cte.style.opacity = pulse;
  }

  if( hovered ){ 
    cover.style.opacity =  (t-startTime) * .001;
    cover.style.opacity =  clamp(cover.style.opacity,0,1); 
    console.log(cover.style.opacity);
  }else{ 

   cover.style.opacity =  (t-endTime) * .003;
    cover.style.opacity =  1-clamp(cover.style.opacity,0,1); 
    console.log(cover.style.opacity);
  }

    requestAnimationFrame(ani);
  }


ani();

</script>

</html>